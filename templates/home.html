{% extends 'base.html' %}

{% block extra_head %}
<style>
  body {
      display: flex;
      font-family: Arial, sans-serif;
  }
  #left-panel {
      width: 60%;
      padding: 20px;
  }
  #right-panel {
      width: 40%;
      padding: 20px;
  }
  video {
      width: 100%;
      height: auto;
  }
  textarea {
      width: 100%;
      height: 200px;
  }
  .timestamp {
      margin-bottom: 10px;
  }
</style>
{% endblock %}

{% block title %}Home - MyApp{% endblock %}

{% block content %}
<div id="left-panel">
  <input type="file" id="video-upload" accept="video/*">
  <br><br>
  <video id="video" controls></video>
  <br><br>
  <div id="script">
      <h3>Script</h3>
      <textarea id="script-text" readonly></textarea>
  </div>
</div>
<div id="right-panel">
  <h3>Subtitles</h3>
  <div id="subtitles">
      <div class="timestamp">
          <label for="timestamp1">00:00:01</label>
          <textarea id="timestamp1">Hello, Julia.</textarea>
      </div>
      <div class="timestamp">
          <label for="timestamp2">00:00:05</label>
          <textarea id="timestamp2">While filming today, I misspoke a few lines.</textarea>
      </div>
      <!-- More timestamps and textareas as needed -->
  </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
  document.getElementById('video-upload').addEventListener('change', function(event) {
      const file = event.target.files[0];
      const video = document.getElementById('video');
      video.src = URL.createObjectURL(file);
      video.load();
      // TODO: Add backend interaction to extract script and subtitles
  });

  // Example script data (normally this would come from a backend service)
  const scriptText = `Hello, Julia.
  While filming today, I misspoke a few lines.
  I need to reintroduce myself separately.
  Finally, I wish to apologize for any confusion.`;
  
  document.getElementById('script-text').textContent = scriptText;

  // TODO: Add functionality to edit subtitles and save changes
</script>
{% endblock %}


<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Subtitle Editor</title>
    <style>
        body {
            display: flex;
            font-family: Arial, sans-serif;
        }
        #left-panel {
            width: 60%;
            padding: 20px;
        }
        #right-panel {
            width: 40%;
            padding: 20px;
        }
        video {
            width: 100%;
            height: auto;
        }
        textarea {
            width: 100%;
            height: 200px;
        }
        .timestamp {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div id="left-panel">
        <input type="file" id="video-upload" accept="video/*">
        <br><br>
        <video id="video" controls></video>
        <br><br>
        <div id="script">
            <h3>Script</h3>
            <textarea id="script-text" readonly></textarea>
        </div>
    </div>
    <div id="right-panel">
        <h3>Subtitles</h3>
        <div id="subtitles">
            <div class="timestamp">
                <label for="timestamp1">00:00:01</label>
                <textarea id="timestamp1">Hello, Julia.</textarea>
            </div>
            <div class="timestamp">
                <label for="timestamp2">00:00:05</label>
                <textarea id="timestamp2">While filming today, I misspoke a few lines.</textarea>
            </div>
            // More timestamps and textareas as needed
        </div>
    </div>

    <script>
        document.getElementById('video-upload').addEventListener('change', function(event) {
            const file = event.target.files[0];
            const video = document.getElementById('video');
            video.src = URL.createObjectURL(file);
            video.load();
            // TODO: Add backend interaction to extract script and subtitles
        });

        // Example script data (normally this would come from a backend service)
        const scriptText = `Hello, Julia.
        While filming today, I misspoke a few lines.
        I need to reintroduce myself separately.
        Finally, I wish to apologize for any confusion.`;
        
        document.getElementById('script-text').textContent = scriptText;

        // TODO: Add functionality to edit subtitles and save changes
    </script>
</body>
</html> -->